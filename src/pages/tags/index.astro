---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
const pageTitle = 'Tags Index';
---

<style>

  .tags {
    display: flex;
    flex-wrap: wrap;
    margin-top: 2rem;
  }

</style>

<BaseLayout pageTitle={pageTitle}>
  <section class="tags-section">

  <h1 class="page-title">{pageTitle}</h1>
  <p>All the tags of my blog posts.</p>
  <div class="tags">
    {tags.map((tag) => (
    <p class="tag"><a href=`/tags/${tag}`>{tag}</a></p>
      ))}
  </div>
  </section>
</BaseLayout>

